<script type="module">
  import * as PIXI from "https://cdn.skypack.dev/pixi.js";
  import { Live2DModel } from "https://cdn.skypack.dev/pixi-live2d-display";

  const app = new PIXI.Application({
    view: document.getElementById("live2d"),
    autoStart: true,
    backgroundAlpha: 0,
    resizeTo: window
  });

  const modelUrl = "https://unpkg.com/live2d-widget-model-epsilon2_1@1.0.5/assets/Epsilon2.1.model.json";

  Live2DModel.from(modelUrl).then(model => {
    model.scale.set(0.4);
    model.x = window.innerWidth / 2;
    model.y = window.innerHeight * 0.9;
    model.anchor.set(0.5, 1);
    app.stage.addChild(model);

    window.addEventListener("pointerdown", (e) => {
      model.lookAt(e.clientX, e.clientY);
    });
  });
</script>
